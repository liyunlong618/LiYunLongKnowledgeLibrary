___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 5.2 PC短按 实现自动移动

___________________________________________________________________________________________

[TOC]

___________________________________________________________________________________________

_ 视频链接
    _  [https://www.bilibili.com/video/BV1JD421E7yC?p=104&vd_source=9e1e64122d802b4f7ab37bd325a89e6c]("https://www.bilibili.com/video/BV1JD421E7yC?p=104&vd_source=9e1e64122d802b4f7ab37bd325a89e6c")
_ 使用 **NaviMesh** 的 **API** 需要 **引模块** **"** **NavigationSystem**</font> **"**
    _ 需要引模块" **NavigationSystem**</font> " ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/113058_475192.png?raw=true)
_ AAuraPlayerController 中
    _ <font color=#FFAF38>**AbilityInputTagReleased**</font> **函数中,**
        _ 如果不为左键点击tag，调用ASC组件的回调函数，然后return；若为左键点击时，if有目标，调用ASC组件的回调函数；没目标，这里才是需要处理的逻辑：
        _ 先拿到控制的角色，若点击时间小于等于 阈值 且 控制角色不为空时，先清空样条线的所有点，通过 <font color=#75C940>**NaviMesh**</font> 的API： <font color=#FFAF38>**UNavigationSystemV1::FindPathToLocationSynchronously**</font> 拿到 <font color=#75C940>**NaviMesh**</font> 的导航路径，路径结构体中有个 <font color=#75C940>**PathPoints**</font> 数组保存了路径点的信息，遍历一下为样条线添加点，生成debug球体，然后 `bAutoRunning=true` ；然后设置记录鼠标点击时间的变量为0.f，设置 `bTargeting=false`
        _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/637612_886080.png?raw=true)
            _ 需要引模块" **NavigationSystem**</font> " ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/711087_988406.png?raw=true)
_ 小技巧：当你不知道一个函数的模块时，可以谷歌
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/679958_782482.png?raw=true)
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/259772_140573.png?raw=true)
    _ 会定位到官方文档，哈哈哈，所以还是需要在文档里面找 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/193824_382242.png?raw=true)
_ 加入导航网格体 **Nav Mesh Bounds Volume**</font>
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_032/273431_263758.png?raw=true)
_ 我使用的是右键移动，此时短按右键，会Debug导航点

___________________________________________________________________________________________

[返回最上面](#Go主菜单)
___________________________________________________________________________________________