___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 050 Character Class Info

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]

___________________________________________________________________________________________

### 视频链接

[GAS 050 Character Class Info视频链接]([2. Character Class Info_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=126&vd_source=9e1e64122d802b4f7ab37bd325a89e6c))

___________________________________________________________________________________________

<details>
<summary>我这里是标题</summary>

### You can add a header

### 属性 的 结构体介绍
- 一共有两个参数:
	- `BaseValue` 
	- `CurrentValue`
- 这俩参数的区别
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/1.png?raw=true)
- ![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/2.png?raw=true)


___________________________________________________________________________________________
### 设置属性`UAuraAttributeSet`
1. ##### 先写网络属性复制
+ `头文件`中：
	
	&emsp;
	
	+ `头文件`中：
	```cpp
	#include "AbilitySystemComponent.h"
	public:
		//此函数规定了:	1.哪些参数同步 以及 2.同步的条件			此函数在UObject中 开启 属性复制(RepNotify)后 需要重写这个函数!
		virtual void GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const override;
	
		//ReplicatedUsing = OnRep_Health  :当前属性 Health 发生变化时 自动调用 OnRep_Health 这个回调函数
		UPROPERTY(BlueprintReadOnly, ReplicatedUsing = OnRep_Health, Category="Vita|Attribute")
		FGameplayAttributeData Health;
		ATTRIBUTE_ACCESSORS(UAuraAttributeSet,Health);//AS组件源码中 帮助 Get / Set / Init 属性的宏
		
		UFUNCTION()
		void OnRep_Health(const FGameplayAttributeData& OldHealth);//在每个回调函数中 需要做 网络同步 相关的事
	```
	
	&emsp;
	
	+ `源文件`中：
	```cpp
	void UAuraAttributeSet::GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const
	{
		Super::GetLifetimeReplicatedProps(OutLifetimeProps);
		//此函数在 UnrealNetwork.cpp 中 需要提供的参数(哪个类中,哪个参数,同步条件,什么时候同步数据)
			DOREPLIFETIME_CONDITION_NOTIFY(UAuraAttributeSet,Health,COND_None,REPNOTIFY_Always);
		}
		
	void UAuraAttributeSet::OnRep_Health(const FGameplayAttributeData& OldHealth)
	{
		//此函数在 ASC组件中 但是可以在AS组件 UAttributeSet 中找到使用方法
		GAMEPLAYATTRIBUTE_REPNOTIFY(UAuraAttributeSet,Health,OldHealth);
	}
	```
	
	&emsp;

##### `DOREPLIFETIME_CONDITION_NOTIFY`宏

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/5.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/6.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/7.png?raw=true)

> [CSDN链接参考:ue4-Network相关-变量同步](https://blog.csdn.net/sinat_28941165/article/details/83183034)

##### `GAMEPLAYATTRIBUTE_REPNOTIFY`宏
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/8.png?raw=true)

```cpp
   TObjectPtr<UCaemraComponent> Camera;
```

</details>

















___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________