

+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 058 处理敌人死亡效果，C++中开启物理模拟/使用布娃娃

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[6. Activating the Enemy Hit React Ability_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=135&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

</details>

___________________________________________________________________________________________

### 整体思路梳理

Mermaid

___________________________________________________________________________________________
> 之前我们在`UAuraAttributeSet`中处理了受击效果，那么我们也可以获得敌人死亡的状态，接下来就需要制作死亡效果，希望在死亡时：
> - 角色
>    1. 打开模拟物理关闭碰撞检测
>    2. 开启布娃娃
>    3. 设置碰撞通道为 `WorldStatic` | `Block`
> - 武器
>    1. **从角色上解除绑定**
>    2. 打开模拟物理关闭碰撞检测
>    3. 开启布娃娃
>    4. 设置碰撞通道为 `WorldStatic` | `Block
---
- **因为设置碰撞打开模拟物理关闭碰撞检测后就不会再检测碰撞事件，所以相当于 `DoOnce`** 
- **死亡**应该是**角色的共有特性**，所以**需要基类拥有**
- 把死亡虚函数写在**接口** `ICombatInteraction` 中，方便查询和调用，这样就**不会限定**角色基类才可以使用
---
### 敌人死亡时变成`布娃娃`

> #### 如果需要将敌人变成布娃娃，`需要在服务器和客户端都执行`
#### 接口 `ICombatInteraction` 中创建死亡的 `纯虚函数`

+ `头文件`中：
```cpp
public:
	virtual void Die() = 0;
```

#### 角色基类 `AuraCharacterBase` 中重写 `Die` 函数

+ `头文件`中：
```cpp
public:
	virtual void Die() override;
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```













___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________