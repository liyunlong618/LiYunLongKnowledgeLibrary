___________________________________________________________________________________________
> [!!!!!!!!!!!项目根目录!!!!!!!!!!!](./!!!!!!!!!!!项目目录!!!!!!!!!!!.md)

___________________________________________________________________________________________

# GAS 5.0 GA中配置Tag，并在按下和松开按键时的回调函数中设置，保证释放GA时，触发并持有该Tag
___________________________________________________________________________________________
## 处理关键点
1. 这里是关键点
2. 这里是关键点
3. 这里是关键点
4. 这里是关键点
5. 这里是关键点
6. 这里是关键点
7. 这里是关键点
8. 这里是关键点
9. 这里是关键点
10. 这里是关键点
___________________________________________________________________________________________

[TOC]

___________________________________________________________________________________________

_ <font color=#DC2D1E>**处理关键点：**</font>
    _ <font color=#DC2D1E>**1.赋予角色技能时，给 技能GA 添加 动态标签DynamicAbilityTag**</font>
    _ <font color=#DC2D1E>**2.调用 ASC组件中的API: GetActivatableAbilities()可以拿到所以可以激活的GA的Spec**</font>
    _ <font color=#DC2D1E>**3. GA的Spec 中 有一个动态技能标签 DynamicAbilityTags 若技能激活时 会拥有该 Tag**</font>
    _ <font color=#DC2D1E>**4.调用 ASC组件中的API: AbilitySpecInputPressed(AbilitySpec);会 标记技能的输入状态为已按下**</font>
    _ <font color=#DC2D1E>**5.使用 ASC组件中的API: TryActivateAbility(AbilitySpec.Handle);尝试激活该技能 若激活技能 会把 AbilitySpec 标记为已激活 IsActive**</font>
    _ <font color=#DC2D1E>**6.**</font> <font color=#DC2D1E>`**if (AbilitySpec.IsActive())**`</font> <font color=#DC2D1E>**判断该技能GA是否被激活**</font>
    _ <font color=#DC2D1E>**7.使用AbilitySpec.Handle 激活该技能TryActivateAbility(AbilitySpec.Handle);**</font>
_ 视频链接：
    _  [6. Callbacks for Ability Input_哔哩哔哩_bilibili]("https://www.bilibili.com/video/BV1JD421E7yC?p=100&vd_source=9e1e64122d802b4f7ab37bd325a89e6c")
_ UAuraGameplayAbility 中，内部持有 `**GameplayTag**` 变量
    _ 内部持有GameplayTag变量 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/121074_517762.png?raw=true)
_ UAuraAbilitySystemComponent 中，赋予角色技能时，给 技能GA 添加 动态标签DynamicAbilityTag，创建两个松开后的回调函数，传入tag
    _ 在赋予角色技能时，可以给 技能GA 添加 动态标签DynamicAbilityTag ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/427853_834671.png?raw=true)
    _ 创建两个松开后的回调函数，传入tag ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/178833_734865.png?raw=true)
_ AAuraPlayerController 中
    _ 持有asc组件和创建内部获取的方法 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/810568_769206.png?raw=true)
        _ **get** ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/375492_734600.png?raw=true)
    _ 开始按下和松开的回调函数中调用ASC组件中创建的开始按下和松开的回调函数 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/529970_651798.png?raw=true)
_ UAuraAbilitySystemComponent 中
    _ 参考
        _ 基类ASC组件中的参考（这里是对于 默认没有实例化的GA的操作） ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/375713_800460.png?raw=true)
        _ 基类GA中的参考，虚函数可以重写 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/659059_266506.png?raw=true)
    _ <font color=#DC2D1E>**下面是关键步骤**</font>
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/822520_105846.png?raw=true)
_ ***GA*** 中配置tag
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_030/165062_732171.png?raw=true)

___________________________________________________________________________________________

[返回最上面](#处理关键点)
___________________________________________________________________________________________