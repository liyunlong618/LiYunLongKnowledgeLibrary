___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）
___________________________________________________________________________________________
## 处理关键点
1. 初始化属性的三种方法
___________________________________________________________________________________________

[TOC]

___________________________________________________________________________________________

### 初始化属性的三种方法
_ 方法一 ：在构造中赋值
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/259693_386607.png?raw=true)
_ 方法二 ：配表 初始化属性
    _ 创建BP的PS并配置
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/735085_113350.png?raw=true)
    _ UAuraAttributeSet 中添加人物主要属性：力量/智力/坚韧/活力
        _ 头文件
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/236964_145056.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/800934_653335.png?raw=true)
        _ 源文件
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/210478_889833.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/973321_582084.png?raw=true)
    _ AAuraPlayerState 中设置ASC组建为可读(这样就能配表了)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/728098_869570.png?raw=true)
    _ 创建并配置表格
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/133291_384936.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/255623_609942.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/528734_139988.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/66543_782239.png?raw=true)
    _ BP_AuraPlayerState中配置表格
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/809545_620944.png?raw=true)
    _ 运行游戏，初始化属性成功 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/823609_309359.png?raw=true)
    _ 配表 虽然方便，但是缺点也很明显，这里只能起到初始化的作用，最大最小值无效，不如别的地方功能性更强
_ 移除配表 配表只做了解
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/52097_785648.png?raw=true)
    _ 看到属性归零
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/298821_463392.png?raw=true)
_ 方法三 ：使用GE初始化属性
    _ AAuraCharacterBase 中，增加蓝图可配置的初始化属性的GE类，和初始化调用GE的函数
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/251747_164999.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/454401_240645.png?raw=true)
        _ 根据GE类，创建GE Spec并应用到自身
            _ `const FGameplayEffectContextHandle GameplayEffectContextHandle = GetAbilitySystemComponent()_>MakeEffectContext();const FGameplayEffectSpecHandle GameplayEffectSpec = GetAbilitySystemComponent()_>MakeOutgoingSpec(这里是GE类, 1.0f, GameplayEffectContextHandle);GetAbilitySystemComponent()_>ApplyGameplayEffectSpecToSelf(*GameplayEffectSpec.Data.Get());`
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/838486_222756.png?raw=true)
    _ AAuraCharacter 的 `InitAbilityActorInfo()` 函数中调用
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/844463_327081.png?raw=true)
    _ 创建文件夹
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/59883_457668.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/965655_918822.png?raw=true)
    _ AbilitySystem \ GameplayEffects \ PrimaryAttributes文件夹下创建初始化用的GE文件
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/376098_448663.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/548009_717922.png?raw=true)
    _ 别忘了给BP_Aura 配置DefaultPrimaryAttributes(使用初始化用的GE   GE_AuraPrimaryAttributes)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/597630_30182.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/619764_152779.png?raw=true)
### 帮助理解的小案例
    _ 创建一个Actor 拥有组件BoxCollision jueseOverlap时触发GE 根据角色属性触发_HP的逻辑
        _ 新建文件夹/Actor/GE
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/503613_338575.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/242735_271610.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/371479_680532.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/291537_845177.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/569259_151180.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/703089_728654.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/437999_968644.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/481770_517036.png?raw=true)
        _ 设置GE
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/50918_528219.png?raw=true)
    _ 结果
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/499678_122060.png?raw=true)
    _ 属性 ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/906204_173771.png?raw=true)
### GE中的Modifiers（简单属性计算）
    _ 如果有三个Modifier，分别根据人物活力/力量/坚韧，触发加血的GE逻辑
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/283180_607956.png?raw=true)
    _ 严格按照下标的顺序进行 逻辑运算
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/206479_41321.png?raw=true)
### GE 中的 Modifiers 中的 Coefficient
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/950364_432461.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/669990_723459.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/385613_191279.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/72924_160997.png?raw=true)
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_014/640562_116628.png?raw=true)

___________________________________________________________________________________________

[返回最上面](#Go主菜单)
___________________________________________________________________________________________