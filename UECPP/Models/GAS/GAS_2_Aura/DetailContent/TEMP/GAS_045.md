___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 6.5 C++中创建和使用自定义碰撞类型
___________________________________________________________________________________________
## 处理关键点
1. 物体若要碰撞检测需要开启`Generate Overlap Events`
2. 当我们第一次创建自定义碰撞通道时,它会占用游戏追踪1"`ECC_GameTraceChannel1`"这个通道
___________________________________________________________________________________________

[TOC]

___________________________________________________________________________________________



### 视频链接
  - ![视频链接](https://b23.tv/S4qK6oc)

### 现在有一个问题,就是障碍物不会阻挡普攻火球,因为没有开启Generate Overlap Events

  
 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/01.png?raw=true)


 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/02.png?raw=true)

### 而目前需要增加一种碰撞类型,将药水和攻击产生的火球区分开

- 项目->collision中添加,默认为忽略全部。（这样如果需要和什么发生重叠事件可以手动调整为overlap）使结果更可控

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/03.png?raw=true)

### 在项目Aura.h中定义一个宏,用来指定新的碰撞类型,新增自定义碰撞检测类型 第一次为：ECC_GameTraceChannel1

#### 当我们第一次创建自定义碰撞通道时,它会占用游戏追踪1"ECC_GameTraceChannel1"这个通道
 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/04.png?raw=true)

### 设置抛射物的类型为 新创建的碰撞检测通道

### 此时药水对新碰撞通道的检测类型为忽略

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/05.png?raw=true)

### 抛射物的通道应该为新增的碰撞通道,这一步需要在C++中设置,AAuraProjectile中

要设置这里
 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/06.png?raw=true)

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/07.png?raw=true)

### 此时 安德烈的mesh碰撞通道检测设置为

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/08.png?raw=true)

### 我觉得pawn不能overlap,不然一出来就碰撞了,而且,胶囊体和mesh同时设为检测感觉也会有问题,先往后看吧

### 在角色的基类中,设置和新的碰撞通道检测为overlap(但角色在蓝图里设置为忽略暂时),这样后期可以做pvp,哈哈哈

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/09.jpg?raw=true)
 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/10.png?raw=true)
 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/11.png?raw=true)

 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_045/12.png?raw=true)

___________________________________________________________________________________________

[返回最上面](#Go主菜单)
___________________________________________________________________________________________