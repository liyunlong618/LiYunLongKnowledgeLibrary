___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 6.2 修正火球角度，添加复制，按下shift时普攻
___________________________________________________________________________________________
## 处理关键点
1. 使用： `向量.Rotation();` 获取角度FRotator
2. 使用： `角度.Quaternion();` 获取该角度的四元数
3. C++中设置 碰撞通道
4. DS / LS网络复制相关
___________________________________________________________________________________________

[TOC]

___________________________________________________________________________________________


### 视频链接
  - ![视频链接](https://b23.tv/IGADhLV)
_ 生成抛射物的函数 SpawnProjectile 中，
    _ 头文件，添加形参，传入位置
        _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/961957_992405.png?raw=true)
    _ 源文件，计算方向，设置Rotation
        _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/490988_422038.png?raw=true)
### GA蓝图 *GA_FireBolt* 中，获取HitResult后保存 Location ，传参
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/38746_241064.png?raw=true)
### 此时有个问题，一个角色会把另一个角色弹簧臂挡住，需要C++中设置一下角色capsule和mesh的碰撞通道，对camera为忽略
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/524165_147260.jpeg) ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/90885_151804.jpeg)
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/930303_727834.png?raw=true)
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/487670_288832.png?raw=true) ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/240330_303387.png?raw=true)
### 此时希望添加一个功能，按下shift时，不用点到敌人，也可以发射普通攻击火球
    _ 步骤
        _ 1.添加InputAction,并设置为1d输入
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/465808_918237.png?raw=true)
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/269944_514892.png?raw=true)
        _ 2.配置InputAction
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/806636_765333.png?raw=true)
        _ 3. AAuraPlayerController 中
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/194644_212719.png?raw=true)
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/200742_288778.png?raw=true)
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/354795_15479.png?raw=true) ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/434919_253064.png?raw=true)
        _ *BP_AuraPlayerController* 中配置
            _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/741910_348769.png?raw=true)
### 记得火球 `AAuraProjectile` 中开启复制`bReplicates`，否则客户端无法看见
    _  ![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/497501_850138.png?raw=true)
### 此时效果gif 
![图片](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_042/431364_932439.gif?raw=true)

___________________________________________________________________________________________

[返回最上面](#Go主菜单)
___________________________________________________________________________________________