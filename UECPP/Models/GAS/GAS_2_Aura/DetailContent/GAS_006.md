___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________
# GAS 006 创建UI


___________________________________________________________________________________________

- [GAS 2.6 创建UI](#gas-26-创建ui)
		- [玩家HP UI基类 继承自UserWidget( **这部分架构在2.7 MVC中解释** )](#玩家hp-ui基类-继承自userwidget-这部分架构在27-mvc中解释-)
			- [创建继承自UserWidget类的C++类](#创建继承自userwidget类的c类)
			- [创建子蓝图类](#创建子蓝图类)
			- [创建各种调节参数的函数](#创建各种调节参数的函数)
				- [默认值 ](#默认值-)
		- [添加显示血量和魔法的UI](#添加显示血量和魔法的ui)
			- [创建子类，继承自上面创建的UMG](#创建子类继承自上面创建的umg)
			- [配置子类](#配置子类)
			- [子类显示基类的变量](#子类显示基类的变量)
		- [创建显示玩家信息的UMG](#创建显示玩家信息的umg)
		- [创建HUD](#创建hud)
		- [创建蓝图类继承自，自建的HUD](#创建蓝图类继承自自建的hud)
			- [因为断言的存在，这里不配置会崩溃](#因为断言的存在这里不配置会崩溃)
		- [UI创建完成](#ui创建完成)


___________________________________________________________________________________________
### 玩家HP UI基类 继承自UserWidget( **这部分架构在2.7 MVC中解释** )
#### 创建继承自UserWidget类的C++类
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/1.png)
___________________________________________________________________________________________
#### 创建子蓝图类
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/2.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/3.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/4.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/5.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/6.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/7.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/8.png)
___________________________________________________________________________________________
#### 创建各种调节参数的函数
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/9.png)
___________________________________________________________________________________________
- UpdateBoxSize
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/10.png)
___________________________________________________________________________________________
- UpdateBackGround
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/11.png)
___________________________________________________________________________________________
- UpdateGlobePadding
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/12.png)
___________________________________________________________________________________________
- SetGlobeImage
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/13.png)
___________________________________________________________________________________________
- UpdateGlassPadding
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/14.png)
___________________________________________________________________________________________
- UpdateGlassImage
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/15.png)
___________________________________________________________________________________________

##### 默认值

 ![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/16.png)
___________________________________________________________________________________________
### 添加显示血量和魔法的UI
#### 创建子类，继承自上面创建的UMG
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/17.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/18.png)
___________________________________________________________________________________________
#### 配置子类
___________________________________________________________________________________________
#### 子类显示基类的变量
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/19.png)
___________________________________________________________________________________________
### 创建显示玩家信息的UMG
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/20.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/21.png)

___________________________________________________________________________________________
### 创建HUD
&emsp;

+ `头文件`中：
```cpp
public:
	UPROPERTY()
	TObjectPtr<UAuraUserWidget> OverlayWidget;
	virtual void BeginPlay() override;
private:
	UPROPERTY(EditAnywhere)
	TSubclassOf<UAuraUserWidget> OverlayWidgetClass;
```

&emsp;

+ `源文件`中：
```cpp
void AAuraHUD::BeginPlay()
{
	Super::BeginPlay();
	checkf(OverlayWidgetClass,TEXT("OverlayWidgetClass is nullptr!!! in:	AAuraHUD!!!"));//断言检查下
	const TObjectPtr<UAuraUserWidget> Widget = CreateWidget<UAuraUserWidget>(GetWorld(),OverlayWidgetClass);
	Widget->AddToViewport();
}
```

&emsp;

&emsp;

___________________________________________________________________________________________
### 创建蓝图类继承自，自建的HUD
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/22.png)
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/23.png)
#### 因为断言的存在，这里不配置会崩溃 
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_005/24.png)
___________________________________________________________________________________________
### UI创建完成 
___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________