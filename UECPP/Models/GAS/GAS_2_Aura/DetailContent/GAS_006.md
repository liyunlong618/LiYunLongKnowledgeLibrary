___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________
# GAS 006 创建UI


___________________________________________________________________________________________

# 目录

- [GAS 006 创建UI](#gas-006-创建ui)<br>
- [目录](#目录)<br>
		&emsp;- [创建玩家HP的UI基类](#创建玩家hp的ui基类)<br> 
			&emsp;&emsp;&emsp;- [创建`UAuraUserWidget`继承自`UserWidget`](#创建uaurauserwidget继承自userwidget)<br>
			&emsp;&emsp;&emsp;- [创建子蓝图类](#创建子蓝图类)<br>
			&emsp;&emsp;&emsp;- [创建各种调节参数的函数](#创建各种调节参数的函数)<br>
				&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;- [默认值](#默认值)<br>
		&emsp;- [添加显示血量和魔法的UI](#添加显示血量和魔法的ui)<br>
			&emsp;&emsp;&emsp;- [创建子类,继承自上面创建的UMG](#创建子类继承自上面创建的umg)<br>
			&emsp;&emsp;&emsp;- [配置子类](#配置子类)<br>
		&emsp;- [创建显示玩家信息的UMG](#创建显示玩家信息的umg)<br>
		&emsp;- [创建HUD`AAuraHUD`](#创建hudaaurahud)<br>
		&emsp;- [创建蓝图类继承`AAuraHUD`](#创建蓝图类继承aaurahud)<br>
			&emsp;&emsp;&emsp;- [因为断言的存在,这里不配置会崩溃](#因为断言的存在这里不配置会崩溃)<br>
		&emsp;- [UI创建完成](#ui创建完成)<br>

___________________________________________________________________________________________

### 创建玩家HP的UI基类
继承自`UserWidget`这部分架构在下一节MVC中解释

___________________________________________________________________________________________

#### 创建`UAuraUserWidget`继承自`UserWidget`

___________________________________________________________________________________________

#### 创建子蓝图类

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/02.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/03.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/04.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/05.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/06.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/07.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/08.png?raw=true)

___________________________________________________________________________________________

#### 创建各种调节参数的函数

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/09.png?raw=true)

+ UpdateBoxSize
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/10.png?raw=true)
+ UpdateBackGround
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/11.png?raw=true)
+ UpdateGlobePadding
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/12.png?raw=true)
+ SetGlobeImage
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/13.png?raw=true)
+ UpdateGlassPadding
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/14.png?raw=true)
+ UpdateGlassImage
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/15.png?raw=true)

___________________________________________________________________________________________

##### 默认值
![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/16.png?raw=true)

___________________________________________________________________________________________

### 添加显示血量和魔法的UI
___________________________________________________________________________________________

#### 创建子类,继承自上面创建的UMG

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/17.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/18.png?raw=true)

___________________________________________________________________________________________

#### 配置子类
子类显示基类的变量

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/19.png?raw=true)



___________________________________________________________________________________________

### 创建显示玩家信息的UMG

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/20.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/21.png?raw=true)

___________________________________________________________________________________________

### 创建HUD`AAuraHUD`

+ `头文件`中：
```cpp
UCLASS()
class AURA_API AAuraHUD : public AHUD
{
	GENERATED_BODY()
	
public:

	UPROPERTY()
	TObjectPtr<UAuraUserWidget> OverlayWidget;

	virtual void BeginPlay() override;

private:

	UPROPERTY(EditAnywhere)
	TSubclassOf<UAuraUserWidget> OverlayWidgetClass;
};
```

&emsp;

+ `源文件`中：
```cpp
void AAuraHUD::BeginPlay()
{
	Super::BeginPlay();
	checkf(OverlayWidgetClass,TEXT("OverlayWidgetClass is nullptr!!! in:	AAuraHUD!!!"));
	const TObjectPtr<UAuraUserWidget> Widget = CreateWidget<UAuraUserWidget>(GetWorld(),OverlayWidgetClass);
	Widget->AddToViewport();
}
```

&emsp;

___________________________________________________________________________________________

### 创建蓝图类继承`AAuraHUD`

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/24.png?raw=true)

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/25.png?raw=true)

___________________________________________________________________________________________

#### 因为断言的存在,这里不配置会崩溃

![](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/UECPP/Models/GAS/GAS_2_Aura/DetailContent/Image/GAS_006/26.png?raw=true)

___________________________________________________________________________________________

### UI创建完成
___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________