<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 104 为萨满制作召唤技能(4)射线检测修正生成点位置，使用SpawnActor生成AI注意事项

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[17. Async Spawn Times_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=18&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[18. Summoning Particle Effect_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=19&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

------

### 希望可以异步生成小兵，不要一起生成，且随机


------

### 自己写一个循环，加入delay生成DebugSphere

>![image-20240901050759334](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901050759334.png)
>
>- 先for循环在所有的生成位置生成小一点的DebugSphere


------

### 使用节点Shuffle节点打乱数组顺序


------

### 测试效果gif
>![img](https://api2.mubu.com/v3/document_image/25165450_2c6021a6-ae2c-4393-ba2b-5142a40be51c.png)


------

### 移除代码中的生成 DebugSphere 的代码


------

### 如果在战斗中可能会不是水平的，可能是有坡度的

>![](./GAS_104/1.PNG)
>
>- 所以需要，在生成的位置垂直向下射线检测，如果检测到就在该检测点生成


------

### 代码中射线检测修正生成位置
>![img](https://api2.mubu.com/v3/document_image/25165450_389530e2-20da-4dd3-d2d1-37c11877ce21.png)


------

### 测试效果
>![img](https://api2.mubu.com/v3/document_image/25165450_47856aab-2253-4767-8c87-44c59a5b84ff.png)


------

### 选中几个需要的Actor右键打组
>![img](https://api2.mubu.com/v3/document_image/25165450_3c2941a8-e740-4696-d05f-dca5c2ef9ff4.png)


------

### 测试gif
>![img](https://api2.mubu.com/v3/document_image/25165450_b2aab7af-9ee8-4782-8209-88f3af096b01.png)

------

### 下一节

------


### 在即将生成的位置，生成NS特效
>![img](https://api2.mubu.com/v3/document_image/25165450_434c9706-fdf0-4b51-eb4e-32371047d23b.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_c69034b1-e92c-428f-bf7f-8cb514166a05.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_35c62512-46a8-4834-f0a3-d0ea31276b66.png)


------

### 可以在NS中调整最大最小时间
>![img](https://api2.mubu.com/v3/document_image/25165450_4c1ae12b-7493-4c7b-86f4-f989b8cd1e10.png)


------

### 技能中配置需要生成的恶魔的Class
>![img](https://api2.mubu.com/v3/document_image/25165450_e32e894f-e51c-4ef7-d96d-fab8ac4d91ec.png)


------

### 接下来需要创建一个函数，根据上面的数组返回随机类
>![img](https://api2.mubu.com/v3/document_image/25165450_2461aa38-4ebc-406c-9b62-9c55fc08ce47.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_3551a8cb-0753-4fc0-ab88-620668dba269.png)


------

### 蓝图中使用 SpawnActor 替代 DebugSphere 节点
>![img](https://api2.mubu.com/v3/document_image/25165450_a11e3a2e-337a-4070-91da-cac29708ef32.png)


------

### 生成后卡脖子了，需要加点Z轴上的偏移
>![img](https://api2.mubu.com/v3/document_image/25165450_f9933dee-bdc1-4b21-851d-f3c25b110993.png)


------

### 加Z轴上的偏移后
>![img](https://api2.mubu.com/v3/document_image/25165450_a2cad045-7048-46e9-dc5a-13a762e192e2.png)

------

### 为什么敌人没有运行行为树呢？

>- ## 因为当角色在运行时在世界中手动生成时，它不会自动为其配置AIController！！！！！
>
>- ## 我们必须分配一个默认控制器。！！！！！

------

## 在使用SpawnActor后，为AI分配默认控制器
>![img](https://api2.mubu.com/v3/document_image/25165450_254945ab-5454-4928-f789-9a297d21a3a3.png)

------

### 此时效果gif
>![img](https://api2.mubu.com/v3/document_image/25165450_b052503f-c1c3-49e9-b57c-927349cfc99b.png)

------

### 生成的敌人朝向还是有些问题，下一节处理

___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________