___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 173 修复火球击中死亡敌人时漂浮的bug

___________________________________________________________________________________________

## 处理关键点

1. 可以调整Tick频率降低开销

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[19. Explode Dem FireBoltz_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?spm_id_from=333.788.player.switch&vd_source=9e1e64122d802b4f7ab37bd325a89e6c&p=132)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 现在有一个bug：就是当攻击一个死亡的敌人时，火球会停在敌人原来的位置上，不会爆炸，漂浮
>![img](https://api2.mubu.com/v3/document_image/25165450_c3f1d9c7-f1f9-4a08-f025-5a1eb9d4df93.png)


------

### 可以在Tick中修复(可以调整Tick频率降低开销)

  - 0为不限制 即 等于 帧率
>![img](https://api2.mubu.com/v3/document_image/25165450_2b940e48-a35c-4bad-d1b5-f3515665f893.png)

  - 0.1是比率（0.1 * 帧率）


------

#### 如果正常在tick中生成debug路线是这样
>![img](https://api2.mubu.com/v3/document_image/25165450_db442aa0-2dd3-40b0-cebb-6c2148bbdad7.png)


------

#### 设为0.1
>![img](https://api2.mubu.com/v3/document_image/25165450_8d2a6afc-b438-4425-c6b2-ea45512a5b2b.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_413994f2-eb25-4c6e-cb21-d204bb800b86.png)


------

#### 设为0.2
>![img](https://api2.mubu.com/v3/document_image/25165450_42d7130d-a4f7-47c6-fdeb-3ac0edb1831d.png)


------

### 思路：记录i上一帧的位置，和这一帧进行对比，如果，运动距离小于最小值（配置的参数）就播放声音，生成NS然后销毁（NS可以使用黑色的爆炸特效）
>![img](https://api2.mubu.com/v3/document_image/25165450_cea4804c-1879-4379-a47f-f78f6d22108d.png)


------

#### 检测成功
>![img](https://api2.mubu.com/v3/document_image/25165450_7379028b-d979-4b2f-8ce6-7b83d8ec149b.png)


------

### 折叠为一个函数

  - `MakeGoKaboom`

>![img](https://api2.mubu.com/v3/document_image/25165450_bdcfe802-a223-4983-d823-554c5e3c653f.png)


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________