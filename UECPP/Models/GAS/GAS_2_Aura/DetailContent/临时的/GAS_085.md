<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 085敌人攻击时转向玩家使用 MotionWarping ；使用接口Get和Set获Player位置

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[2. Attack Montage_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=176&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[3. Combat Target_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=177&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 小测试

>- 为近战角色创建蒙太奇
> - 要注意可复用
>
>
>![img](https://api2.mubu.com/v3/document_image/3a821ca1-f49b-47a8-b03c-69f585dfe936.jpg)

------



<details>
<summary>自己尝试一下</summary>

>  - 上节我们创建了GA
>
>  - 创建蒙太奇![img](https://api2.mubu.com/v3/document_image/0bfaa989-81a4-446c-acb1-905a2cd20c72.jpg)![img](https://api2.mubu.com/v3/document_image/2c9dab79-990c-4243-9415-9b8f22dc6886.jpg)

------

</details>

### 此时效果gif

> ![img](https://api2.mubu.com/v3/document_image/ac772f8d-4ec2-4873-af33-0e03f9b23706.jpg)

------

### 我们发现哥布林攻击的时候长矛不指着player,需要使用MotionWarping

------

### 之前是在这里使用的

> ![img](https://api2.mubu.com/v3/document_image/b0681b56-2279-4b1b-bf08-184f4021ed66.jpg)![img](https://api2.mubu.com/v3/document_image/a35f12d2-5676-44f9-8320-cbe97b7cff0d.jpg)

------

### 在敌人中添加warping warping组件，实现UpdateFacingTarget函数，参考之前。

> ![img](https://api2.mubu.com/v3/document_image/2261910c-d7d6-49af-834a-81aeede09dfc.jpg)

------

### 敌人动画蓝图中添加motion warping动画通知。并设置。只对root动画生效！！别忘了

> ![img](https://api2.mubu.com/v3/document_image/15d5c5f4-c5af-4ebe-8e93-d04bfc338ffb.jpg)![img](https://api2.mubu.com/v3/document_image/b26e7f2a-5670-4694-b8d9-727d5f846b8f.jpg)

------

## 下面是第二节

------

### 现在我们需要在蓝图中获取player的位置

- 所以需要也给敌人身上保存一个目标的指针

- 我觉得应该是弱指针

------

### 在敌人身上创建指针保存目标用

> ![img](https://api2.mubu.com/v3/document_image/813e7c01-14cc-4c43-910d-48c76d2abbb5.jpg)

------

### 我们之前创建了一个敌人的接口，用于勾边用

------

### 在这个接口中创建Get和Set 敌人身上目标的函数，蓝图中重写和蓝图可叫

> ![img](https://api2.mubu.com/v3/document_image/10be8549-844b-4c1c-82e4-dcce0f438942.jpg)

------

### 敌人身上实现这两个函数，这样我们可以在c++和蓝图中都可以写逻辑，且不会耦合

> ![img](https://api2.mubu.com/v3/document_image/25165450_fd33da67-7e27-4992-d506-e08757834e3c.png)![img](https://api2.mubu.com/v3/document_image/25165450_00defbbe-4eba-449c-f810-5f0d75fdec45.png)

------

### 行为树自己写的近战远程攻击节点中，添加变量，以便在节点中获取黑板值，并在行为树中配置

> ![img](https://api2.mubu.com/v3/document_image/25165450_b7cf07fd-158f-4c3d-8a74-7dd743bf3349.png)![img](https://api2.mubu.com/v3/document_image/25165450_37d5d451-8372-47b2-dd18-b03ba3d71464.png)![img](https://api2.mubu.com/v3/document_image/25165450_3fb35a6a-72d6-4e50-808d-faede6b4eaff.png)

------

### 节点中使用黑板的值，调用接口，中的函数，设置敌人的目标

> ![img](https://api2.mubu.com/v3/document_image/25165450_405ff3ce-11ca-4bed-ebd2-ae62ac9d9387.png)

------

### GA中播放蒙太奇前，检查接口实现，调用接口函数，和UpdateFacingTarget

> ![img](https://api2.mubu.com/v3/document_image/25165450_cf076013-3c98-4435-c180-3b3630702235.png)

------

### 关于敌人获取玩家位置，可以用观察者模式，敌人身上的bool一旦打开就可以获取位置更新，一旦关闭就不更新，这里只做介绍，具体自己实现


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________