<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 122 创建被动技能GA；使用WaitGameplayEvent监听父Tag属性变化，指定Tag使用SetByCaller指定映射float，通过Payload发送接收数据

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[7. Incoming XP Meta Attribute_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=53&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[8. Passively Listening for Events_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=54&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

- 

------

### 小测试1

>   - 创建一个XP的元属性，命名为，`InComingXP`
>
>   - 参考之前的，搞定新的元属性
>
>   - 可以打印 `UE_LOG` 测试
>
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_944af2d2-2d74-4c00-df26-0bbf4adb7ffb.png)

------

### 自己尝试一下

>![img](https://api2.mubu.com/v3/document_image/25165450_3ecb43eb-bb90-40c0-87ca-3518a67dc47d.png)![img](https://api2.mubu.com/v3/document_image/25165450_aef42227-4590-43b8-a91f-9eef88ab37e9.png)

------

### 下一节

------

### 下面我们需要创建一个被动能力的GA，`GA_ListenForEvents`，用来监听 `GameplayEvent`，然后绑定 `SetByCaller` 并对目标应用GE。上一节总结过

------

#### 创建初始化被动技能文件夹，`Passive_Startup`
>![img](https://api2.mubu.com/v3/document_image/25165450_0a2b4a98-4c22-4cc0-bdc8-a0e39efe1bb4.png)

------

#### 创建GA
>![img](https://api2.mubu.com/v3/document_image/25165450_f1af4a7c-3c4d-42f7-de13-0d3621bd9781.png)

------

### 设置 `GA_ListenForEvents` 实例化策略 和 网络策略

>![img](https://api2.mubu.com/v3/document_image/25165450_a7512d06-ccb7-4cb8-a202-25fadfabad01.png)

------

### 监听GameplayEventTag时，可以选择父节点Tag，这样就可以监听所有的子节点

>![img](https://api2.mubu.com/v3/document_image/25165450_9f421cde-60d4-44e8-e774-6d2e98e0d312.png)

------

#### 只是介绍一下，这两个都不开启，分别为

>  - #### `OnlyTriggerOnce`
>
>    - #### **只触发一次**
>
>      - 这里 == false ，否则 可能会阻碍别的 `GameplayEvent` 触发
>
>  - #### `OnlyMachExact`
>
>    - #### **只精确匹配**
>
>![img](https://api2.mubu.com/v3/document_image/25165450_7d1a5366-0cb3-47b9-f496-9a8a54475c04.png)

------

#### 后面我们将使用 `Payload` 发送和接受数据

>![img](https://api2.mubu.com/v3/document_image/25165450_8d371007-2f77-4341-c875-68f4dc81bc4f.png)

------

### 创建GE，命名为GE_EventBasedEffect

>![img](https://api2.mubu.com/v3/document_image/25165450_7b4fab4d-1a52-479f-fb3d-aae0332283d8.png)

------

### 在GE中打算使用 `元属性` + `SetByCaller` 触发Tag

>- 接下来需要一个 `元属性Tag标签`
>
>![img](https://api2.mubu.com/v3/document_image/25165450_e6ddb1bf-df02-431d-848f-782905d8d5cd.png)

------

#### 创建 `元属性Tag标签`

>![img](https://api2.mubu.com/v3/document_image/25165450_706697e8-7f1e-417f-b644-d472a8be4c09.png)

>![img](https://api2.mubu.com/v3/document_image/25165450_c9d60ba4-95cb-49df-f204-17af0cb9affe.png)

------

#### 回到GE中配置 `元属性Tag标签`

>![img](https://api2.mubu.com/v3/document_image/25165450_87273336-928e-4e7c-8baf-f81e19d2606b.png)

------

### 注意此时，因为传入的元属性为 `Attributes` 下的子Tag，所以会触发监听事件，又因为打算使用 `SetByCaller` 键值对触发，所以只有绑定的才会在后续自定义处理逻辑，(但是所有的属性变化都可以监听到！)

------

### GA中创建变量配置上面创建的 `GE的Class`

>![img](https://api2.mubu.com/v3/document_image/25165450_d80ea8ff-e669-4d90-da71-bbc45a05ebc4.png)

------

### 在GA中获取Owner的ASC，创建 `GE_Spec` ，并使用 `GE_Spec` 绑定 `SetByCaller` 键值对映射（Tag和float），然后应用GE

>![img](https://api2.mubu.com/v3/document_image/25165450_dd7cca10-9460-441c-9255-d0cf5e4e36a6.png)![img](https://api2.mubu.com/v3/document_image/25165450_8ea02ece-c345-49e6-dfd2-a75fbf0754b7.png)

------

### 需要注意的是，我们并没有 `给与` 这个 `被动技能GA` ，所以需要让这个 `被动技能GA` `GiveAbility`并激活一次

>- #### **想在角色基类中配置一个初始时学习的被动技能数组，然后像学习主动技能一样，区别是：这里需要激活一次。**

------

#### 在角色基类中，创建被动技能的数组，命名为， `StartupPassiveAbilities`

>![img](https://api2.mubu.com/v3/document_image/25165450_e6da900b-f790-4785-8fc7-bc3fa1b89f27.png)
>
>- 这里折叠，找一下之前的技能学习方式步骤截图

------

#### ASC组件中创建添加被动技能的函数，命名为，`AddCharacterPassiveAbilities`

>![img](https://api2.mubu.com/v3/document_image/25165450_50fdd790-0530-4af9-887e-ce3953c56c0e.png)![img](https://api2.mubu.com/v3/document_image/25165450_f9eb3943-b49d-40fb-e2ab-53356a20e1e8.png)

------

#### 在角色初始化给予技能后，也调用给与被动技能函数

>![img](https://api2.mubu.com/v3/document_image/25165450_8456dd05-449b-4d33-bee3-4e90b431d12b.png)

------

### 角色中配置要学习的被动技能GA

>![img](https://api2.mubu.com/v3/document_image/25165450_bc75f05e-e5b6-49a0-abe8-84e827ee07b7.png)

------

### 接下来，在激活技能时，打印测试

>![img](https://api2.mubu.com/v3/document_image/25165450_11bfb7e2-93ae-417f-cf75-7ed69c8858c2.png)

------

### 分别在单人/LS/DS模式下测试

>![img](https://api2.mubu.com/v3/document_image/25165450_cfc79137-a93d-470a-ca55-88314c154c1c.png)![img](https://api2.mubu.com/v3/document_image/25165450_4606706c-1a78-49fc-81f6-726e5ff51525.png)![img](https://api2.mubu.com/v3/document_image/25165450_88d34e26-6dcc-4cf6-a095-183b3961763b.png)


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________