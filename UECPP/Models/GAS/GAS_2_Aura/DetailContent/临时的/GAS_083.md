<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 083 使用EQS环境查询 整个流程

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111
2. 222222222222222222222222222
3. 33333333333333333333333333
4. 4444444444444444444444444444
5. 555555555555555555555555555555
6. 666666666666666666666666666

- EQS使用步骤

  1. 创建EQS

  2. 创建特殊的Pawn类
       - EQSTestingPawn
  

  3. 创建新的测试地图

  4. 将自建EQSTestingPawn拖入场景，并配置对应的EQS

  5. 打开EQS并设置节点和需要的Test

       - 1.添加节点：点 路径网络 —— Points: Pathing Grid

  
       - 2.右键节点，添加Test -> Trace 跟踪
  

       - 可以创建自建的Context，也就是目标收集用的

  
       - 想制作的效果是敌人会找离我们尽可能近的点，然后能攻击到的视野不被遮挡的点
  

  6. 在行为树上使用EQS
  
       - 行为树直接调用EQS节点，并配置要使用的EQS
  
  
       - 在运行查询后，它将设置我们指定的黑板键之一
  

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[11. Environment Queries](https://www.bilibili.com/video/BV1JD421E7yC/?p=171&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[12. EQS Tests](https://www.bilibili.com/video/BV1JD421E7yC?p=172&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[13. Distance Test](https://www.bilibili.com/video/BV1JD421E7yC?p=173&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[14. Using EQS Queries in Behavior Tree](https://www.bilibili.com/video/BV1JD421E7yC?p=174&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 在这之前先整理一下文件

> - #### 创建四个文件夹
>
>   - #### `BehaviorTree`
>
>   - #### `Tasks`
>
>   - #### `Sercives` 
>
>   - #### `AlController`
>
> #### 现在有这些文件![img](https://api2.mubu.com/v3/document_image/25165450_d672cc1e-0cdf-45c7-94ae-94218a5a3ea1.png)
>
> #### 整理成这样的结构
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_f2432d30-2f46-4ce1-ea91-707259efbcfc.png)![img](https://api2.mubu.com/v3/document_image/25165450_cbc22f33-e74a-4566-e545-c564f2935df1.png)

------

### EQS使用步骤

> 1. ### 创建EQS
>
> 2. ### 创建特殊的Pawn类
>
>    - EQSTestingPawn
>
>
> 3. ### 创建新的测试地图
>
> 4. ### 将自建EQSTestingPawn拖入场景，并配置对应的EQS
>
> 5. ### 打开EQS并设置节点和需要的Test
>
>      - 1.添加节点：点 路径网络 —— Points: Pathing Grid
>
>      - 2.右键节点，添加Test -> Trace 跟踪
>
>      - 可以创建自建的Context，也就是目标收集用的
>
>      - 想制作的效果是敌人会找离我们尽可能近的点，然后能攻击到的视野不被遮挡的点
>
> 6. ### 在行为树上使用EQS
>
>      - 行为树直接调用EQS节点，并配置要使用的EQS
>
>      - 在运行查询后，它将设置我们指定的黑板键之一

------

### 创建EQS

> - #### 在 `Aura/Public/AI/` 文件夹下
>
> - #### 命名为 `EQ_FindRangedAttackPosition`
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_205b2e60-ea63-4bbc-c410-0920050dad44.png)

------

### 第二步：创建EQS需要的特殊Pawn，类型是： EQSTestingPawn

> - ### 存在一种`特殊类型的Pawn`，我们可以 `使用它来测试我们的环境查询`。
>
>   ##### 我们可以通过为我们生成的所有项目绘制一堆调试形状来测试他们正在做什么。
>
> - #### 命名为 `BP_EQSTestingPawn`
>
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_4d5d06a6-9f6f-4f5e-b16f-5f84e9133e18.png)

------

### 第三步：创建新的测试地图

> - #### 在 `Content/Maps/` 下创建新的测试地图![img](https://api2.mubu.com/v3/document_image/25165450_0508e633-0638-4560-8227-8b736032f6db.png)

------






































































___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________