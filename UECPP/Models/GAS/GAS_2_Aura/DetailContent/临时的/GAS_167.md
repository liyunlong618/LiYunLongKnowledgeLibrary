___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 167 创建并使用自定义碰撞通道，修复攻击目标的穿透问题

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[12. Target Trace Channel_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=125&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 这一节我们来处理，当我们点击墙的时候，攻击会无视墙穿过的问题（其实就是把攻击的通道检测和移动检测的Visibility分开）

  - 需要为攻击创建自己的 `检测通道` 


------

### 为攻击创建检测通道


------

#### 创建新碰撞通道 `Target` 
>![img](https://api2.mubu.com/v3/document_image/25165450_cc460143-f94b-40e7-f2e7-fddd11f6f678.png)


------

#### 代码中使用刚创建的新碰撞通道 `Target` 

- 我们之前在项目的 `.h文件` 中声明了宏实用了自定义通道1
>![img](https://api2.mubu.com/v3/document_image/25165450_3f4c5d9f-1c98-4d8b-b9d7-c496b5c6b93a.png)

- 创建新的通道 宏
>![img](https://api2.mubu.com/v3/document_image/25165450_7aacb6be-bbd1-4edb-bdb3-3bd2c48f70ad.png)


------

### 在之前写的异步节点获取鼠标点击点射线检测结果中，修改碰撞通道
>![img](https://api2.mubu.com/v3/document_image/25165450_e0d8e8d0-1792-4b44-b9e5-7e9844821908.png)


------

### 运行测试gif
>![img](https://api2.mubu.com/v3/document_image/25165450_4ffcb4c7-415e-4cef-ecc8-bd8ee3740b48.png)


------

#### 但是现在因为全是Block，会有一些问题，需要把要忽略的找出设置一下来，比如：

>![img](https://api2.mubu.com/v3/document_image/25165450_c9acbda4-00d5-40dc-b3b5-df128e948137.png)

- 面前这一堵空气墙
>![img](https://api2.mubu.com/v3/document_image/25165450_d8b51ad0-63ef-476f-e7d5-1e693f237e96.png)

- 角色和相机之间的 `检测Box` 
>![img](https://api2.mubu.com/v3/document_image/25165450_097a2acc-807b-44fa-fe57-5cde336f5e11.png)

- 当我们使用材质隐藏这个盒子时，鼠标点击，依然会被阻挡，这个也需要设置一下
>![img](https://api2.mubu.com/v3/document_image/25165450_99bb5d96-0129-4136-ef33-d507d3bda6dd.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_0664dd32-a493-4789-89be-d660d2a6c265.png)


------

### 还有一个问题，当我们的视角在这个砖的SM的边缘频繁进进出出时，会出现闪烁的鬼畜，是因为，这个SM开启的复杂碰撞，而它又是多个SM拼起来合成的一个

>![img](https://api2.mubu.com/v3/document_image/25165450_075c18f6-5bd9-4b79-f41b-4adecb51400d.png)

  - 所以要使用简单碰撞

>![img](https://api2.mubu.com/v3/document_image/25165450_b639ef9c-86c1-4fb6-c0c5-8f937f25e054.png)


------

### 然后就好了，修复完成
>![img](https://api2.mubu.com/v3/document_image/25165450_d48a68fa-92b5-42e4-d66c-ac684774378f.png)

___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________