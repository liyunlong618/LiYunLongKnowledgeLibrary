<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 116 使用GameplayAbilityCooldown制作技能CD

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[10. Gameplay Ability Cooldown_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=42&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 当技能CD时需要配置一个技能冷却的Tag标签，需要创建


------

#### 创建技能冷却的Tag标签
>![img](https://api2.mubu.com/v3/document_image/25165450_d8063a02-3bf2-43f4-a57f-590323d65e8f.png)![img](https://api2.mubu.com/v3/document_image/25165450_866d97c4-28df-45e0-b9d9-0d9dc2fe0080.png)


------

### 创建GE，命名为，`GE_Cooldown_FireBolt`


------

### 冷却时间生效需要配置的内容

>1. 添加 `冷却用Tag标签`
>   - `技能CD的GE` 需要我们添加一个Tag标签，并且该 `Tag标签` 必须是 `冷却用Tag标签`
>
>
>2. 设为 `Has Duration`
>
>3. 设置 `CD`
>   - 冷却时间也可以使用曲线表格![img](https://api2.mubu.com/v3/document_image/25165450_e882c818-7e3c-4963-957e-0763317fb312.png)
>4. GA中配置
>
------

### 看一下提交冷却的函数 `CommitAbilityCost` 源码

> ### ![img](https://api2.mubu.com/v3/document_image/25165450_7db2e8b6-d972-4107-e02e-eae7980042e3.png)![img](https://api2.mubu.com/v3/document_image/25165450_05df4175-17e1-45bd-bd38-952d91f5d0a1.png)
>
>   - 这意味着我们在提交技能时，会把 `GE` 应用在此 `GA` 的 `Owner` 上，因为这个 `GA` 有冷却的 `GE` ，且持续时间内 应用了 `冷却用Tag标签`
>
>   - 所以持续时间内，此 `GA` 的 `Owner` 身上会持有这个技能的 `冷却用Tag标签`，届时我们将无法激活该能力，直到该 `冷却用Tag标签` 被移除
>
> - 配置过程截图
>
>   ![img](https://api2.mubu.com/v3/document_image/25165450_d3c381f4-cfe1-490a-9a03-ded8921a7267.png)![img](https://api2.mubu.com/v3/document_image/25165450_1e76ccf6-3e33-46cf-f37f-eb96ddc64461.png)![img](https://api2.mubu.com/v3/document_image/25165450_515fe01d-e19f-4821-fe94-7e4f3fdd745a.png)![img](https://api2.mubu.com/v3/document_image/25165450_070701eb-6e93-487e-9e90-e3be89f5569f.png)


------

### 接下来在 `触发GA后` 直接提交技能，在 GA释放技能应用效果后` 直接结束技能
>![img](https://api2.mubu.com/v3/document_image/25165450_060e1d52-cc3d-4783-de87-086474c1f446.png)![img](https://api2.mubu.com/v3/document_image/25165450_13e8499a-7682-4cc5-bfbd-6d68d4b03ccc.png)


------

### 测试gif，此时CD效果已经生效，可以设得长一些，测试明显点
>![img](https://api2.mubu.com/v3/document_image/25165450_c8fd3c2d-8ef5-4703-f378-89c2e9f793cb.png)


------

### 但是现在有个问题就是我们释放技能逻辑走到 `EndAbility`后，会立刻结束蒙太奇

> 可以在这里配置
>
> - 取消勾选这个![img](https://api2.mubu.com/v3/document_image/25165450_7d4b5b44-c626-4742-f8dc-5635dc2e362b.png)


------

### LS下运行游戏测试gif，发现客户端无法生成火球，但是会有消耗
>![img](https://api2.mubu.com/v3/document_image/25165450_bd6022e4-751c-4651-c76b-66060ae4f221.png)
>
>#### **原因是，我们在蒙太奇没有播放完成时，结束了技能(也就是说技能结束得太快了，客户端产生火球前就结束了)**![img](https://api2.mubu.com/v3/document_image/25165450_77c3c9c5-64b7-4683-cb8c-2ec0fbb85d3b.png)


------

### 改为在蒙太奇异步执行完毕后触发
>![img](https://api2.mubu.com/v3/document_image/25165450_c4275725-80fe-4101-fb4f-0ef8cc56cd8c.png)


------

### 我们这样就完成了技能CD的逻辑控制，接下来需要制作的是，UI的视觉表现，也就是说，技能CD时，技能需要变灰，需要显示剩余冷却时间，请看下集
___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________