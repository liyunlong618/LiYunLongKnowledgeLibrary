<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 103 为萨满制作召唤技能(3)创建召唤技能GA并计算生成位置

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[16. Shaman Summon Locations_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=17&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

------

### 为萨满创建召唤技能


------

#### 在这个路径下创建新的技能，继承自 AuraGameplayAbility，命名为 AuraSummonAbility，这个是召唤技能的基类

>![image-20240901050351986](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901050351986.png)
>
>- 为什么不是 AuraDamageGameplay ，因为 AuraDamageGameplay 是我们为伤害的技能制作的基类，所以我们此时需要为召唤的技能制作基类


------

#### 创建函数，外部获取释放技能后需要生成的小兵的位置，需要返回一个FVector数组
>![img](https://api2.mubu.com/v3/document_image/25165450_8ec4af18-7646-47df-e43b-06152d5f780d.png)


------

#### 创建一些需要配置的技能相关的变量

>- NumMinions
>  - 生成小兵数量
>
>- MinionClasses
>  - 生成的类型
>
>- MinSpawnDistance
>  - 最近生成的距离
>
>- MaxSpawnDistance
>  - 最远生成的距离
>
>- SpawnSpread
>  - 生成角度
>
>图示，变量作用
>![img](https://api2.mubu.com/v3/document_image/25165450_c686926c-05ca-44ab-896b-e98057865ca4.png)
>
>
>![img](https://api2.mubu.com/v3/document_image/25165450_4ca6f3d9-4a10-4891-8ad8-9bf5505e13ed.png)


------

#### GetSpawnLocations 函数中


------

##### 先获取角色(萨满)向前的向量
>![img](https://api2.mubu.com/v3/document_image/25165450_390ab5a7-3abe-4ea7-de63-4a92d75e6461.png)


------

##### 然后获取角色(萨满)位置
>![img](https://api2.mubu.com/v3/document_image/25165450_939e8137-2ed0-413e-da26-4e08e5a3df2a.png)


------

##### 使用API `RotateAngleAxis` 获取，左右旋转后的向量
>![img](https://api2.mubu.com/v3/document_image/25165450_1397f431-b4f0-47d3-db15-35b50070ded1.png)


------

##### 然后使用Debug画箭头



>- 使用API UKismetSystemLibrary::DrawDebugArrow


------

##### 先返回一个空的 FVector数组 测试


------

##### 放一下完整函数体代码
>![img](https://api2.mubu.com/v3/document_image/25165450_93da6ebf-0add-4d76-e375-df77b4117513.png)


------

### 创建蓝图子类

>- 命名为，`GA_SummonAbility`


------

#### 在 `BeginPlay` 时连上节点，暂时配置技能标签为Attack
>![img](https://api2.mubu.com/v3/document_image/25165450_65a710d2-9310-4a18-e183-59345996ff8f.png)


------

#### 在 `CharacterInfo` 数据资产中配置角色技能

>![image-20240901050505301](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901050505301.png)
>
>- 去掉火球技能使用这个


------

#### 场景中拖入萨满，测试一下
>![img](https://api2.mubu.com/v3/document_image/25165450_ff65e26e-0e07-4166-b41b-af919f20cb61.png)


------

### 可以在这里配置技能参数
>![img](https://api2.mubu.com/v3/document_image/25165450_8a50cb07-5e3c-4d38-87b5-07161e97be29.png)


------

### 接下来分别在技能的最大最小距离生成球体，像下图这样

>![image-20240901050554060](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901050554060.png)
>
>
>![img](https://api2.mubu.com/v3/document_image/25165450_97149d7d-6e22-4980-cae5-017661f72d43.png)


------

### 接下来需要创建for循环，在每条分割线上生成 Debug箭头最近/最远点生成 DebugSphere

>![image-20240901050608667](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901050608667.png)
>
>![img](https://api2.mubu.com/v3/document_image/25165450_0a12bd36-1d69-4bd1-9947-b41906ad11fd.png)


------

### 接下来需要生成随机位置，并添加到一个临时数组，并返回
>![img](https://api2.mubu.com/v3/document_image/25165450_c23c8d0b-c2b0-4d21-a531-4446de205e40.png)


------

### 测试一下


>![img](https://api2.mubu.com/v3/document_image/25165450_a21c3521-aafd-4f30-ceb6-bad7c3392db9.png)



------

### 修改参数后再测试


>![img](https://api2.mubu.com/v3/document_image/25165450_fb15d64e-6ee0-4575-9305-c37c1d7307a2.png)

------


------

### 测试一下

>![img](https://api2.mubu.com/v3/document_image/25165450_983488ce-723c-4147-fccd-7008cecd57bd.png)


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________