<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 123 C++中使用`UAbilitySystemBlueprintLibrary::SendGameplayEventToActor`发送GameplayEventTag给指定对象

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[9. Sending XP Events_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=55&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 上节我们处理了监听事件，这节我们需要在 `AS` 中，敌人死亡时发送 `GameplayEventTag`

>#### **我们之前在这里处理了敌人的死亡**
>
>![img](https://api2.mubu.com/v3/document_image/25165450_be5008e6-c515-48cf-ae6e-2faba92b81aa.png)

------

### 在 `AS` 中创建一个死亡时调用的函数，形参使用我们之前保存重要数据的结构体 `Props`，命名为，`SendXPEvent`

>![img](https://api2.mubu.com/v3/document_image/25165450_3764de27-af4b-407e-94e9-7ab08500e2b1.png)

------

#### 函数中，需要获取敌人XP奖励，就需要调用之前在蓝图函数库中写好的函数(传入等级和敌人种类返回敌人XP奖励)

------

##### 敌人等级和敌人的种类可以通过接口获取

>![img](https://api2.mubu.com/v3/document_image/25165450_9a1f9e80-78eb-408b-95fa-0f63623156c8.png)

------

#### 接下来需要调用API发送 `GameplayEventTag`

>   - #### **发送给谁**
>
>     - 需要一个 **目标**
>
>   - #### **发送的Tag**
>
>   - #### **`Payload`**
>
>     - 可以**传递参数**
>
>
> ```cpp
> UAbilitySystemBlueprintLibrary::SendGameplayEventToActor
> ```
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_a216656b-5ace-4723-f22e-ca9298ecc4b7.png)

------

### 接下来，在敌人死亡时调用

>![img](https://api2.mubu.com/v3/document_image/25165450_e9612e7e-f627-4547-b820-1835045f5763.png)

------

### 接下来在收到Tag时打印

>![img](https://api2.mubu.com/v3/document_image/25165450_9051cc8d-7c8c-498f-ba9b-8dfd46048a00.png)

------

### 此时击杀敌人报错，原因是接口函数用错了

>![img](https://api2.mubu.com/v3/document_image/25165450_a052d9f7-efba-41c3-ce3a-08b63283e3d3.png)![img](https://api2.mubu.com/v3/document_image/25165450_171262ab-c157-4885-bbee-579989c9ee5d.png)
>
>- #### **需要修改成调用反射中的静态函数**
>
>#### ![img](https://api2.mubu.com/v3/document_image/25165450_5a698fdc-7d1d-4b22-e6f4-865fb0ca21e2.png)

------

### 此时我们有两个打印

> ![img](https://api2.mubu.com/v3/document_image/25165450_00d2dccb-35fe-4f5d-d6c1-1f704abd010b.png)![img](https://api2.mubu.com/v3/document_image/25165450_9051cc8d-7c8c-498f-ba9b-8dfd46048a00.png)

------

### 测试结果

>![img](https://api2.mubu.com/v3/document_image/25165450_ada313a6-eadd-4ca6-89ae-1d918f45d323.png)

------

#### 改成打印float测试

>![img](https://api2.mubu.com/v3/document_image/25165450_b6ef1bd0-9afb-4eb1-be71-2dd68b5dc0fa.png)![img](https://api2.mubu.com/v3/document_image/25165450_b3755dd4-4481-42fa-bae9-a04b7e73b8ae.png)

------

### 测试没有问题，可以移除掉 `打印` 和 `UELOG` 了

------

### 下一节，我们将处理UI中的逻辑


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________