<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 112 制作主界面技能UI

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[1. Health Mana Spells Widget_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=33&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[2. Spell Globe_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=34&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[3. Adding Spell Globes_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=35&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[4. XP Bar_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=36&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

------

## 自己制作UI可以跳过


------

### 接下来我们将逐步制作一个这样的UI
>![img](https://api2.mubu.com/v3/document_image/25165450_b8ff9541-b4c3-406c-fb73-69b4ab9d991f.png)


------

### 下面是创建这个UI的步骤


------

#### 创建 `UI` 继承自 `AuraUserWidget` ，命名为，***WBP_HealthManaSpells***
>![img](https://api2.mubu.com/v3/document_image/25165450_348bf67d-1d0e-4b43-cf03-537de8720a32.png)


------

#### 创建 `SizeBox` 最上层，大小为 `1140` * `216`

> - #### **文件结构**
>
>   ```mermaid
>   graph TD
>       SizeBox[SizeBox 1140 x 216] --> BaseBox[HorizontalBox - BaseBox]
>       
>       BaseBox --> HealthBox[HorizontalBox - HealthBox]
>       BaseBox --> CentralBox[HorizontalBox - CentralBox]
>   
>       CentralBox --> OffensiveBox[VerticalBox - OffensiveBox 放主动技能图标]
>       
>       OffensiveBox --> AbovelconsBox[VerticalBox - AbovelconsBox 放标题]
>       AbovelconsBox --> OffensiveText[HorizontalBox - OffensiveText 放标题 - 填充模式]
>       OffensiveText --> Text_Offensive[TextBlock - Text_Offensive 主动技能标题]
>       
>       AbovelconsBox --> InputText[HorizontalBox - InputText 放技能按键名]
>       InputText --> InputText_LMB[VerticalBox - InputText_LMB]
>       InputText --> InputText_RMB[VerticalBox - InputText_RMB]
>       InputText --> InputText_1[VerticalBox - InputText_1]
>       InputText --> InputText_2[VerticalBox - InputText_2]
>       InputText --> InputText_3[VerticalBox - InputText_3]
>       InputText --> InputText_4[VerticalBox - InputText_4]
>       
>       OffensiveBox --> SpellGlobesBox[HorizontalBox - SpellGlobesBox 放技能图标 - 填充模式]
>       SpellGlobesBox --> SpellBox_LMB[VerticalBox - SpellBox_LMB]
>       SpellGlobesBox --> SpellBox_RMB[VerticalBox - SpellBox_RMB]
>       SpellGlobesBox --> Spell
>   
>   ```
>
> <details>
> <summary>过程截图</summary>
>
> >拖入 `HorizontalBox` ，命名为，`BaseBox`
> >
> >- 拖入 `HorizontalBox` ，命名为，`HealthBox`
> >
> >- 拖入 `HorizontalBox` ，命名为，`CentralBox`
> >
> >  - 拖入 `VerticalBox` ，命名为，`OffensiveBox` 放主动技能图标
> >
> >    - 拖入 `VerticalBox` ，命名为，`AbovelconsBox` 放标题
> >
> >      - 拖入 `HorizontalBox` ，命名为，`OffensiveText` 放标题
> >
> >        - 设置为填充
> >
> >        - 拖入 `TextBlock` ，命名为，`Text_Offensive` 主动技能标题
> >          - \#### `OffensiveText` 中加入标题![img](https://api2.mubu.com/v3/document_image/25165450_634b6dc7-c45a-423b-c237-041d898a98c2.png)
> >
> >      - 拖入 `HorizontalBox` ，命名为，`InputText` 放技能按键名
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_LMB`
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_RMB`
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_1`
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_2`
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_3`
> >
> >        - 拖入 `VerticalBox` ，命名为，`InputText_4`
> >
> >    - 拖入 `HorizontalBox` ，命名为，`SpellGlobesBox` 放技能图标
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_LMB`
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_RMB`
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_1`
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_2`
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_3`
> >
> >      - 拖入 `VerticalBox` ，命名为，`SpellBox_4`
> >
> >      - 都设为填充模式
> >
> >    - 拖入 `HorizontalBox` ，命名为，`SpacerBox` 间隔用
> >
> >    - 调整填充值![img](https://api2.mubu.com/v3/document_image/25165450_6e4a6b4d-e9c3-4aa4-e57c-b2cb5fe1418a.png)
> >
> >  - 拖入 `VerticalBox` ，命名为，`PassiveBox` 放被动技能图标
> >
> >    - 拖入 `VerticalBox` ，命名为，`PassiveText` 放被动技能标题
> >      - 拖入 `TextBlock` ，命名为，`Text_Passive` 被动技能标题
> >
> >    - 拖入 `VerticalBox` ，命名为，`PassiveBoxes` 放被动技能图标
> >
> >      - 拖入 `VerticalBox` ，命名为，`PassiveBox_1`
> >
> >      - 拖入 `VerticalBox` ，命名为，`PassiveBox_2`
> >
> >      - 拖入 `VerticalBox` ，命名为，`PassiveBox_Spacer` 间隔用
> >
> >      - 调整填充值![img](https://api2.mubu.com/v3/document_image/25165450_f8c9fd31-fe36-4f3c-d5d1-5a4d3330c7ee.png)
> >
> >    - 调整填充值![img](https://api2.mubu.com/v3/document_image/25165450_f1cdce92-2091-4d0c-bee4-4c4ff2cb743b.png)
> >
> >  - 调整填充值![img](https://api2.mubu.com/v3/document_image/25165450_e1704788-79a5-4ea5-8fbc-b313eb716463.png)
> >
> >- 拖入 `HorizontalBox` ，命名为，`ManaBox`
> >
> >- 模式选择填充![img](https://api2.mubu.com/v3/document_image/25165450_4df0a7ec-5514-4e27-f951-f710590cc748.png)
> >
> >- 调整填充值![img](https://api2.mubu.com/v3/document_image/25165450_c3f641a9-7e47-40eb-ade9-4b515f27bd89.png)
>
> ------
>
> </details>


------

#### `HealthBox` `ManaBox` 中放入血条和蓝条，调整为填充
>![img](https://api2.mubu.com/v3/document_image/25165450_4c81fe9c-c550-40aa-a12e-684880fb2b3d.png)


------

### 下一节


------

### 接下来我们将创建，技能图标的基类


------

#### 创建文件夹，`SpellGlobes`
>![img](https://api2.mubu.com/v3/document_image/25165450_1985fe83-c0a3-4f08-ea85-f603fc101579.png)


------

#### 创建 `UI` 继承自 `AuraUserWidget` ，命名为，***WBP_SpellGlobe***


------

#### 创建 `SizeBox` 最上层，大小为 `100` * `100`，命名为，`SizeBox_Root`

> 文件结构：
>
> ![img](https://api2.mubu.com/v3/document_image/25165450_c1361d83-18c5-464a-e156-342e3132dd76.png)
>
> 创建设置SizeBox的函数，命名为 `UpdateBoxSize`
>
> - 拖入 `Overlay` ，命名为，`Overlay_Root`
>
>   - 拖入 `Image` ，命名为，`Image_Glass` 放前面的玻璃反射![img](https://api2.mubu.com/v3/document_image/25165450_5f254e95-9ec1-429d-dd02-476cc519a2a8.png)
>     - 创建设置Padding函数，命名为 `UpdateGlobePadding`
>
>   - 拖入 `Image` ，命名为，`Image_Ring` 放环状背景![img](https://api2.mubu.com/v3/document_image/25165450_fc73074a-dd18-419d-d086-0d743cdb173f.png)
>     - 创建设置Brush函数，命名为 `UpdateRingBrush`
>
>   - 拖入 `Image` ，命名为，`lmage_Background` 放技能图标的背景![img](https://api2.mubu.com/v3/document_image/25165450_fdca23cf-bdfe-47cb-911c-55663c6cee02.png)
>
>   -  `UpdateRingBrush` 函数中也一起设置这个的Padding
>
>   - 拖入 `Image` ，命名为，`lmage_Spelllcon` 放技能图标![img](https://api2.mubu.com/v3/document_image/25165450_19bb196b-8e1d-4f57-df36-d2421043161d.png)
>
>     -  `UpdateRingBrush` 函数中也一起设置这个的Padding
>
>     - 创建设置Brush函数，命名为 `UpdateSpelllconBrush`
>
>   - 拖入 `TextBlock` ，命名为，`Text_Cooldown` 放技能当前剩余冷却时间![img](https://api2.mubu.com/v3/document_image/25165450_ea2fe62a-9e6b-4fc5-97fc-027ee2bb3753.png)


------

### 下面需要创建一个技能冷却时的设置函数


------

#### 技能CD时，需要显示数字，且技能图标背景变暗，要做成单独函数
>![img](https://api2.mubu.com/v3/document_image/25165450_5d704293-2e6a-482d-cfca-4ea02f76b4fc.png)


------

#### 公开属性，可以在上一层配置
>![img](https://api2.mubu.com/v3/document_image/25165450_6097b194-a1a1-4dab-daf4-33744b207cd3.png)


------

#### 创建清空技能图标的函数

>   - `BeginPlay` 时调用
>
>     ![img](https://api2.mubu.com/v3/document_image/25165450_a4afab6d-123c-4dec-dee1-6b7cff76f320.png)


------

#### 创建设置技能图标的函数
>![img](https://api2.mubu.com/v3/document_image/25165450_bc53a19d-4e71-4598-d0d9-e5d7200347bb.png)


------

### 下一节


------

### 在 ***WBP_HealthManaSpells*** 中摆上技能图标
>![img](https://api2.mubu.com/v3/document_image/25165450_ebb3de65-7621-45f5-e123-693126f5b679.png)


------

### 下面想在游戏中使用这个新的面板，而不是只有两个球


------

### 在 ***BP_Overlay*** 中修改逻辑，然后替换新的UI
>![img](https://api2.mubu.com/v3/document_image/25165450_3ae2835b-8c68-4867-a44a-b426e7abd391.png)![img](https://api2.mubu.com/v3/document_image/25165450_2cf742bd-f3ce-4002-93b3-c6a3b99d3839.png)![img](https://api2.mubu.com/v3/document_image/25165450_dd28d0d5-6b8c-4701-c0d4-6ebadd14211e.png)


------

### 场景中摆入掉血的火焰，测试掉血效果


------

### 掉血测试一下gif
>![img](https://api2.mubu.com/v3/document_image/25165450_006b2f69-c16f-4f43-d7e4-0b46fa57c7e6.png)


------

### 下一节，制作经验XP条


------

### 制作经验XP条


------

#### 创建 `UI` 继承自 `AuraUserWidget` ，命名为，***WBP_XPBar***
>![img](https://api2.mubu.com/v3/document_image/25165450_b0456be2-61a8-42bb-fa7b-a357da96e935.png)


------

#### 创建 `SizeBox` 最上层，大小为 `880` * `50`，命名为，`SizeBox_Root`

> - 拖入 `Image` ，命名为，`XPBarBackground` 放经验条背景![img](https://api2.mubu.com/v3/document_image/25165450_d3278a58-7642-4d4c-c392-cd2cd3aa2a84.png)
>
> - 拖入 `ProgressBar` ，命名为，`XPBar` 放经验条![img](https://api2.mubu.com/v3/document_image/25165450_78744b8d-f95c-49de-e387-d14ccf74abad.png)
>
> - 填充后，通过调整 Padding 来适配大小


------

#### 完成后直接将经验条拖入 ***BP_Overlay*** 
>![img](https://api2.mubu.com/v3/document_image/25165450_3f41a297-179a-4809-cf70-4e1304d4a385.png)


------

### 接下来是场景处理，留了一块地方，没有 `NavMesh` 导航，这样AI摆上去也不会动，纯活靶子，方便测试
>![img](https://api2.mubu.com/v3/document_image/25165450_616b3e73-2e2e-41a9-a8ba-0d41159915a7.png)
______________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________