<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 090修改之前的获取插槽位置的逻辑，因为有的怪物没有武器比如用左右手攻击

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[8. Montage Gameplay Tags_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=182&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[9. Tagged Montage_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=183&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[10. Multiple Attack Sockets_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=184&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

> ### 现在已经实现了使用Get Combat Socket Location获取插槽的位置，但是有些敌人是没有武器的，比如接下来我们要做的这个，食尸鬼，如果没有武器，那么我们的逻辑就需要改一下。而且这个角色攻击用到了左右手，也需要做出一些随机![img](https://api2.mubu.com/v3/document_image/25165450_b5446f5b-9afc-4494-e59e-d13f3c083736.png)
>
> ### 此时的逻辑，如果要为拥有武器的敌人播放蒙太奇，我们需要武器插槽，左手攻击的蒙太奇需要左手插槽，右手攻击的蒙太奇需要右手插槽。而蒙太奇中会发送Event的Tag
> ## 所以需要把Event的Tag和蒙太奇进行绑定

------

### 先创建3个`Tag` 
>![img](https://api2.mubu.com/v3/document_image/25165450_3e5d4a20-37cd-4d87-f9a5-50e4c56c1e8c.png)![img](https://api2.mubu.com/v3/document_image/25165450_c7697308-190f-4eaa-fdfb-42b1b088cb42.png)![img](https://api2.mubu.com/v3/document_image/25165450_87701a49-549b-4948-c591-9f9be992fd64.png)

------

> ### 我们需要创建一个包含蒙太奇和游戏标签的结构体。然后我们将添加一个函数来在战斗界面中检索它们，以便我们可以在蓝图里获取蒙太奇来使用。

------

### 接口中创建结构体
>![img](https://api2.mubu.com/v3/document_image/25165450_03a053c4-bda9-4293-b9cf-521b88979d13.png)

___________________________________________________________________________________________

### 角色基类中创建数组存放结构体映射
>![img](https://api2.mubu.com/v3/document_image/25165450_341564ec-add0-4091-ca88-1207b07c5c15.png)
### 接口中创建获取上面结构体数组的方法，并在角色基类中重写
>![img](https://api2.mubu.com/v3/document_image/25165450_925655f4-ec12-457d-da53-2fc5c2592ebd.png)![img](https://api2.mubu.com/v3/document_image/25165450_32f20605-9023-4ec6-d417-77abbdace6e8.png)![img](https://api2.mubu.com/v3/document_image/25165450_754d859b-4290-47bc-921c-e101c67cabcc.png)

___________________________________________________________________________________________

### 给哥布林配置Event的Tag
>![img](https://api2.mubu.com/v3/document_image/25165450_1d8525ca-9665-4fff-9d9c-d57424d873a2.png)

___________________________________________________________________________________________

### 蓝图敌人攻击时，使用接口的函数获取结构体，并使用

> ![img](https://api2.mubu.com/v3/document_image/25165450_4aa59bc8-077e-42ad-b36a-ba0037e6dbfd.png)

------

### 敌人的蒙太奇中，发送的事件也不能用原来的了，需要修改成新的刚加的Tag

> ![img](https://api2.mubu.com/v3/document_image/25165450_012cdd39-f6e6-45d6-9083-a8adb8bcc90b.png)

------

## 下面是下一节

------

### 修改接口函数 `GetCombatSocketLocation`，需要传入 `Tag`

> ## 需要修改所有引用
#### 角色基类中不用检查武器组件了，因为有的没有，而且因为需要分情况，所以先加个TODO
>![img](https://api2.mubu.com/v3/document_image/25165450_4593b401-fe36-4a70-a546-b91f003e526b.png)
#### 这里增加了一个参数，所以静态函数也有变化
>![img](https://api2.mubu.com/v3/document_image/25165450_e428a588-9ae5-4424-c1c4-50a7b3e0dee5.png)

------

### 角色及类中添加左右手的FName，并修改 GetCombatSocketLocation 函数

> ![img](https://api2.mubu.com/v3/document_image/25165450_6ecf5aa7-810c-49d7-f343-05147db7e7d7.png)![img](https://api2.mubu.com/v3/document_image/25165450_ce5ccf9c-ef01-406f-e81c-71ab487e366f.png)

------

### 编译引擎

------

### 蓝图中传入Tag

> ![img](https://api2.mubu.com/v3/document_image/25165450_a4349c80-c5aa-4b9a-c239-cbd5697b2a5b.png)

------

### 测试一下gif

> #### 如果依然播放蒙太奇说明有效![img](https://api2.mubu.com/v3/document_image/25165450_f121709b-d778-4246-8b1b-15c82ca14ad4.png)

------

### 修改为敌人SkeletalMesh骨骼添加左右手攻击的插槽

> ![img](https://api2.mubu.com/v3/document_image/25165450_7ab0dbb9-9c4d-43bf-ef2c-c394573025ce.png)


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________