<details>
<summary>过程截图</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 101 为萨满制作召唤技能(1)制作召唤用近战和远程的恶魔

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[11. Demon Blueprint_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=12&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[12. Demon Melee Attack_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=13&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

[13. Demon Ranged Attack_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=14&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

------

### 想让萨满可以召唤两种恶魔：一种远程攻击；一种近战攻击

- 近战使用甩尾横扫

- 远程使用投掷


------

### 创建一个近战攻击恶魔

>- 创建文件夹 `Demon`
>![img](https://api2.mubu.com/v3/document_image/25165450_4eed6a06-467b-4895-b28e-0c0c11411c86.png)
>
>- 创建BP
>  - 设置移动速度和转身速率
>  - 175/200
>  - 设置敌人类型为近战
>
>- 创建ABP
>  - 创建并使用混合空间
>    - 别忘了设置混合空间的混合时间
>![img](https://api2.mubu.com/v3/document_image/25165450_9950da24-082c-420b-f264-18280b367c39.png)


------

### 近战攻击恶魔使用甩尾攻击

------

### 下一节

------


#### 创建甩尾攻击的蒙太奇

>- ## 记得打开攻击动画的根运动！！


------

### 甩尾攻击的蒙太奇中设置 `MotionWarping` 触发 `Event` 的 `Tag` 和 攻击音效
>![img](https://api2.mubu.com/v3/document_image/25165450_c4bd0ef3-0f68-4c83-eea6-60b9bb0d4512.png)


------

### 因为这个角色使用的是尾巴攻击，不是武器，不是左右手，所以需要添加 `SocketTag`
>![img](https://api2.mubu.com/v3/document_image/25165450_58b2ed1d-ff87-4cfc-c0be-f35a391f37d7.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_5b2c9701-67b3-4e03-90d3-04acab2d8a33.png)


------

### 添加 `SocketTag`
>![img](https://api2.mubu.com/v3/document_image/25165450_a5f346f3-5caa-4508-8645-5f30a94c9034.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_c88d0b75-34e5-4b43-b73a-4a58534a2143.png)


------

### 角色基类中添加 `尾部的插槽FName`
>![img](https://api2.mubu.com/v3/document_image/25165450_03da27ca-a34b-455d-fe52-6f46a5a6ebdb.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_8a8f844e-8032-4b8c-b705-fd92559b117d.png)


------

### 蓝图中配置 `尾部插槽的FName`，和攻击用的蒙太奇结构体
>![img](https://api2.mubu.com/v3/document_image/25165450_986e3c22-3637-47b7-9587-c094cdf8e60c.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_6d2fe557-70a0-4136-fe28-78dc02f6b7d0.png)


------

### 近战恶魔有左右两种攻击方式，都需要制作蒙太奇
>![img](https://api2.mubu.com/v3/document_image/25165450_68d71d2e-44e2-4400-9446-514d1d484e5b.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_6c36e49a-e296-44d7-f3c7-0612a086610f.png)


------

### 在近战攻击中，有一个 `获取攻击点范围内的Actors` 的函数，生成Debug，看一下大小和位置是否合适
>![img](https://api2.mubu.com/v3/document_image/25165450_b65e5c2d-d688-456d-d1fd-1d55e74dd889.png)


------

### 拖入场景
>![img](https://api2.mubu.com/v3/document_image/25165450_8da69961-eced-4a12-bc0c-8994e10c5265.png)


------

### 此时测试gif

>- 看着感觉有点歪
>![img](https://api2.mubu.com/v3/document_image/25165450_266f066f-d869-4337-b1ed-7306faeac87b.png)
>
>- 解决方法：因为是旋转攻击，需要将攻击时机提前


------

#### 修改蒙太奇，将攻击时机提前


>![img](https://api2.mubu.com/v3/document_image/25165450_b7650ed7-2818-4e61-f211-66d10b05aceb.png)

------

### 下一节

------


### 接下来制作：远程攻击的恶魔


------

### 创建一个远程攻击恶魔

>- 创建BP，命名为 BP_Demon_Ranger
>  ![image-20240901045720100](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901045720100.png)
>  - 设置移动速度和转身速率
>  - 175/200
>  - 设置敌人类型为 Ranger
>- 和近战共用ABP
>- 为敌人的材质选择更深的颜色以区分
>![img](https://api2.mubu.com/v3/document_image/25165450_8a968374-db04-42cf-992e-b84b37c4e061.png)

------

### 创建攻击蒙太奇

>需要：
>- #### `MotionWarping`
>- #### 发送 `Event Tag`
>- #### 配置声音
>
>#### **声音需要稍作修改**
>![img](https://api2.mubu.com/v3/document_image/25165450_a68e1aff-0cc6-40e1-fdb7-605b00c9f45b.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_6ac7b6ae-c1f2-4724-9abe-3b6805710473.png)


>![img](https://api2.mubu.com/v3/document_image/25165450_77181b17-4d84-442f-efe9-9c4bd58df12a.png)


------

### 配置攻击用的蒙太奇结构体

>- 因为角色为左手攻击，还需要检查 **`插槽`**
>![img](https://api2.mubu.com/v3/document_image/25165450_63b0cbcf-e000-4fb6-e774-5f00a05dea22.png)
>
>- 蓝图中也需要配置攻击插槽的 `FName`


------

### 检察远程攻击的GA，此时攻击发射的是石头，也可以


------

### 拖入场景


------

### 测试gif

>![image-20240901045820560](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901045820560.png)
>
>- 还有一些问题，敌人看着像是在攻击自身


------

### 断点调试

>![image-20240901045839114](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901045839114.png)![image-20240901045846368](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240901045846368.png)
>
>- 发现重叠时 `OtherActor` 是 `StaticMesh`


------

### 检查bug

>- 当然检查了一下发现，在远程攻击时，用的武器插槽，所以这个也需要修改
>
>- 打开地板碰撞后，因为石头的 `SphereCollision` 太大，立刻与地板发生碰撞，所以需要处理一下这个问题，如果之前没有将 `SphereCollision` 调整，可以这里调整小一些


------

#### 修复bug，在生成抛射物时，需要加入一个形参，传入 `SocketTag`
>![img](https://api2.mubu.com/v3/document_image/25165450_068eeb06-8905-48a1-a4b4-53f7f29da670.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_0d59cd91-d389-4b8c-da38-00c9991834f2.png)


------

### 蓝图中需要传入对应的SocketTag

>- 当然Player的GA也会报错，因为Player中没有配置这个结构体，先用硬编码，手动给 `SocketTag` 为 `WeaponTag`


------

### 测试gif
>![img](https://api2.mubu.com/v3/document_image/25165450_5525fb49-da7e-4a41-f249-b3e3719a7b59.png)


------

### 拖入两个恶魔，测试gif
>![img](https://api2.mubu.com/v3/document_image/25165450_b0f66e67-4f56-42a8-c930-dd8bd0284aa5.png)


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________