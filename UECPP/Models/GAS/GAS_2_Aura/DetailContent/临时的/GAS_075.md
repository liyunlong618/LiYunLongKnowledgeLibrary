<details>
<summary>创建表格</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 075 多人游戏测试和bug修复

___________________________________________________________________________________________

## 处理关键点

1. 111111111111111111111111111111

2. 222222222222222222222222222

3. 33333333333333333333333333

4. 4444444444444444444444444444

5. 555555555555555555555555555555

6. 666666666666666666666666666

7. 77777777777777777777777777777777

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[14. Multiplayer Test_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC/?p=160&spm_id_from=333.880.my_history.page.click&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 第一个问题,直接运行多人DS模式直接崩溃

![img](https://api2.mubu.com/v3/document_image/25165450_433ca1ae-8f43-4f47-c796-6b4b9ba2cc32.png)

![img](https://api2.mubu.com/v3/document_image/25165450_3fc775b7-390c-4814-9cfe-0a4f4ea69776.png)

![img](https://api2.mubu.com/v3/document_image/25165450_0eec1524-3390-4588-b000-93d855e6e30e.png)

- 因为只有服务器才有GM所以客户端没有，崩溃

- 所以
  - 初始化时，需要判断是否为服务器

------

### 第二个问题：客户端攻击但是没有伤害ui

- 血量正常是因为依赖属性AS，而AS属性是复制的
- 这个元属性，只在服务器上有，因为没有复制

![img](https://api2.mubu.com/v3/document_image/25165450_dd5d3796-55ed-4116-ea42-93fe617643cd.png)

![img](https://api2.mubu.com/v3/document_image/25165450_a5eeab1c-188b-4601-f2e1-60d03b600db3.png)

- 我们知道这个应该在服务器调用，然后RPC在客户端执行

![img](https://api2.mubu.com/v3/document_image/25165450_ba3fb60a-0fa3-4d09-a05c-a1db8f8d42f5.png)

- 如果在服务器，这个UGameplayStatic调用的应该是Index为0的PC，也就是服务器的PC，服务器控制的玩家控制器在客户端上不存在。所以这里调用的PC不对，应该 调用客户端控制的角色的PC

#### 所以应该这样处理:

- 调用PC换为Source的PC

![img](https://api2.mubu.com/v3/document_image/25165450_f1e0495c-9b83-416c-997a-b05025caa978.png)

- 且本地玩家，才能执行

![img](https://api2.mubu.com/v3/document_image/25165450_1a96e718-c40f-412f-aca2-2dcd91f31184.png)

------

### 第三个问题，播放声音的组件，如果为nullptr，调用stop函数，会崩溃

![img](https://api2.mubu.com/v3/document_image/25165450_1624dd00-faa8-49eb-9250-2ba8ed87d526.png)

------

### 这里好像是处理重叠的对象不能是自身，如果是自身直接 return

![img](https://api2.mubu.com/v3/document_image/25165450_85f3e967-3fe0-45b3-b429-cceb9e92ed9a.png)

- 加了一个这个

![img](https://api2.mubu.com/v3/document_image/25165450_944693a4-fcb7-4108-8c71-1bc81654207f.png)

------

### 第四个问题DS模式下，客户端的火球高度不对，打不到敌人

![img](https://api2.mubu.com/v3/document_image/25165450_6ca10dd3-a2c2-4032-abaf-3605f91daa12.png)

- 因为客户端和服务器之间总是存在差异，所以如果我们的插座位置有点高，如果这与我们在客户身上看到的时间有点偏差，那么我们的启动可能会太高。

- 所以这里不用把pitch归零

------

第五个问题：作者说他DS模式下客户端听到了两遍声音

![img](https://api2.mubu.com/v3/document_image/25165450_fff93814-56d7-4c6d-e917-42c41d8964a7.png)

------

### 此时可以PVP，并不是要做pvp而是没有限制，所以检查一下逻辑，是否可以造成pvp的伤害![img](https://api2.mubu.com/v3/document_image/25165450_cf3af9d3-eb08-4b6c-bf2e-830853483a9f.png)

>## 下一节将开始AI相关


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________