___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 135 装备技能区的显示技能的逻辑

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[11. Equipped Row Button_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP?p=78&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 主动技能/被动技能和装备技能区域的技能球的底层绑定委托和逻辑不同，所以需要单独创建
>![img](https://api2.mubu.com/v3/document_image/25165450_cad5ba4a-35ef-487f-dcd8-04f6e5c456a5.png)

- 比如在游戏运行时的这些技能球，并不是按钮，装备技能区域需要和这里类似的功能
>![img](https://api2.mubu.com/v3/document_image/25165450_45a497d5-31c5-4d35-963f-242fdc75a4ed.png)


------

#### 复制一份原来的按钮

  - 命名为，`WBP_EquippedRow_Button`

>![img](https://api2.mubu.com/v3/document_image/25165450_5bb4e498-b82e-4ee8-ac30-8cb72ff73137.png)


------

#### 将装备技能区原来的按钮，换成这个新的
>![img](https://api2.mubu.com/v3/document_image/25165450_83b240e1-45a2-4316-ced5-dc757376df2b.png)


------

### 下面想让装备区也像Overlay上一样显示当前的技能
>![img](https://api2.mubu.com/v3/document_image/25165450_b286a469-78cd-439f-f513-20ebee878991.png)


------

#### `SpellMenuWidgetController` 中广播时，调用父类中的广播所有技能信息的函数 `BroadcastAbilityInfo`
>![img](https://api2.mubu.com/v3/document_image/25165450_06e7cbe5-8555-43a7-87cd-eb3b2b83cd3d.png)


------

#### 在 ***WBP_SpellMenu*** 中 调用设置装备技能区的WidgetController
>![img](https://api2.mubu.com/v3/document_image/25165450_7fe63df8-0b54-4830-df08-86f81d2657c5.png)


------

#### 最后还需要广播一下
>![img](https://api2.mubu.com/v3/document_image/25165450_94341b49-6222-4264-b4ab-9fce61dc9ace.png)


------

#### 新的技能球 ***WBP_EquippedRow_Button*** 中移除用不到的逻辑，然后调用设置每一个技能球的WidgetController
>![img](https://api2.mubu.com/v3/document_image/25165450_6aed23e6-d6bb-4250-eee4-a85ffe26b974.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_e0b7f2d3-af92-40e9-eb26-d492e9ea5983.png)


------

##### 然后绑定技能信息结构体广播
>![img](https://api2.mubu.com/v3/document_image/25165450_405fdbfe-aaf1-4078-d6b1-a8475837ddfe.png)


------

#### 和Overlay中的逻辑相似，如果广播，每一个技能球都会收到信息，所以需要为每一个技能球配置对应的InputTag，这样就可以判断后自行设置
>![img](https://api2.mubu.com/v3/document_image/25165450_e6e6fa2d-5c42-466a-fc1a-e143996d26e5.png)


------

##### 创建 `FGameplayTag` ，配置 `InputTag`
>![img](https://api2.mubu.com/v3/document_image/25165450_d385c792-4006-4546-92ce-749c4a3fa2e3.png)


------

##### 为每一个技能球配置Tag

  - 但是会有一个问题就是：没有被动技能的 `InputTag`
>![img](https://api2.mubu.com/v3/document_image/25165450_322498a6-f86e-4f14-8132-ff3d42338df6.png)


------

##### 如果匹配，设置图标
>![img](https://api2.mubu.com/v3/document_image/25165450_155ccb2b-d0ce-49bc-e257-b565d9d30213.png)


------

#### 这样就可以在菜单中看到技能图标了
>![img](https://api2.mubu.com/v3/document_image/25165450_806057cf-f5d2-4930-f058-4365a3692904.png)


------

##### 将GA中InputTag改成别的测试
>![img](https://api2.mubu.com/v3/document_image/25165450_4c8da513-6227-4f27-90f1-8d7c6a103d94.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_2cd0999f-74f9-4dab-f0e3-b4b9d744d4b1.png)


------

#### 接下来需要添加 `被动技能的InputTag标签`，而且当技能图标未设置技能时，需要清空背景（需要创建一个函数）

  - 创建两个Tag，命名为

    - `InputTag_Passive_1`

    - `InputTag_Passive_2`
>![img](https://api2.mubu.com/v3/document_image/25165450_4a9ef84e-5973-44b3-f7cd-c09e2fffaa0b.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_b8ca4b38-392b-4c5a-98eb-8df762459a99.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_261a89ca-13aa-49ed-a201-dc52e93306ec.png)


------

##### 别忘了在蓝图中配置 被动技能的 `InputTag`


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________