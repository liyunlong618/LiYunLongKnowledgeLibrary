<details>
<summary>创建表格</summary>

>

------

</details>




+ `头文件`中：
```cpp
这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码这里是头文件代码
```

+ `源文件`中：
```cpp
这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码这里是源文件代码
```

[Mermaid格式参考](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/blob/main/Mermaid%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83.md)

[预览](https://github.com/liyunlong618/LiYunLongKnowledgeLibrary/tree/main/UECPP/Models/GAS/GAS_2_Aura)



___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 069 创建自建的全局管理类AbilitySystemGlobles应用自建的FGameplayEffectContext类

___________________________________________________________________________________________

## 处理关键点

1. 应用ge的步骤

2. 应用globle的步骤

   - 创建c++类

   - DefaultGame.ini中配置

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[6. Aura Ability System Globals_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JD421E7yC?p=152&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________

### 应用自建的Context

- 来到 MakeEffectContext 函数中，看到是使用 全局管理类 AbilitySystemGlobles 调用的函数返回的Context

![img](https://api2.mubu.com/v3/document_image/e018e543-7b09-4558-99ad-0ef0d2f6db03.jpg)

------

> ## 我们需要子类化 AbilitySystemGlobles 

------

### 自建AbilitySystemGlobles的C++类

- 在 `C++类/Aura/Public/AbilitySystem/` 文件夹下

- 创建 `AbilitySystemGlobles` 的 C++类 ，命名为 `AuraAbilitySystemGlobles`
  
- 重写虚函数 `AllocGameplayEffectContext`
  
>#### 调用这个函数时，new一个自建的FGameplayEffectContext类，返回

![img](https://api2.mubu.com/v3/document_image/fe504c03-f013-4dd1-a2dd-848c92e890f7.jpg)

------

### 应用自建的AbilitySystemGlobles全局管理类

1. 打开 `Config/DefaultGame.ini` 文件

2. 添加如下文本

   ```ini
   
   ```

![img](https://api2.mubu.com/v3/document_image/05fe544d-b3d8-4400-8aad-50d3039afd59.jpg)

![img](https://api2.mubu.com/v3/document_image/97509cd4-9d20-4fca-8a95-4480fbb81d23.jpg)

------

### 此时断点调试
-  分别在释放火球创造GameplayEffectContext时；
-  和AS后处理函数中接收到GameplayEffectContext时。
看否可以看到GameplayEffectContext中带有自建的两个布尔(是否被阻挡/是否暴击)变量
![img](https://api2.mubu.com/v3/document_image/e62fa815-4c02-4cf7-81e0-b58663231906.jpg)
![img](https://api2.mubu.com/v3/document_image/4ad8c364-c717-47e8-bfab-fe55010f9aef.jpg)
![img](https://api2.mubu.com/v3/document_image/2ffd8b31-0b36-454f-b02a-756c72e1159a.jpg)












___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________