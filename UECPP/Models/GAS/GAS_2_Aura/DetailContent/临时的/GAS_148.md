___________________________________________________________________________________________
###### [Go主菜单](../MainMenu.md)
___________________________________________________________________________________________

# GAS 148 处理重复开关菜单后，(音效等)效果叠加的bug

___________________________________________________________________________________________

## 处理关键点

1. 使用绑定委托回调处理数据时，一定要注意对象的生命周期和绑定时机 ！！！
   - 防止多次成倍错误触发回调，记得解绑和销毁 ！！！

___________________________________________________________________________________________

# 目录


[TOC]


___________________________________________________________________________________________

<details>
<summary>视频链接</summary>

[33. Unbinding Delegates_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1TH4y1L7NP/?p=100&spm_id_from=pageDriver&vd_source=9e1e64122d802b4f7ab37bd325a89e6c)

------

</details>

___________________________________________________________________________________________

### Mermaid整体思路梳理

Mermaid

___________________________________________________________________________________________


### 现在有一个bug：当我们选择技能然后装备上，关闭菜单，再打开再装备同一个位置，装备技能的音效会越来越大

------

#### 因为我们每次打开UI都会调用设置小部件的 `WidgetController` ，然后绑定委托

>![img](https://api2.mubu.com/v3/document_image/25165450_812e72b3-cd80-48c7-8e0c-84a5f2a0f0c3.png)

------

#### 可以在这里打印字符串测试

>![img](https://api2.mubu.com/v3/document_image/25165450_5b3dfbe2-400b-40ae-b85c-e23319b24a41.png)

------

##### 次数会每次叠加越来越多

>![img](https://api2.mubu.com/v3/document_image/25165450_691a3e6f-ccf0-4cf8-974f-69b750f8b45e.png)

------

#### 需要在每次销毁时，解除绑定委托

>![img](https://api2.mubu.com/v3/document_image/25165450_27889626-518b-4f02-bfa5-a9806bd11fd7.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_655078c8-d9b4-4314-b9ac-2197d701c4a7.png)

------

### 解除绑定后在测试gif：就不会越来越多了

>![img](https://api2.mubu.com/v3/document_image/25165450_961e0264-742e-4dab-f302-9ec95650d0b7.png)

------

### 我们需要在别的UI中也处理销毁时解除委托

>![img](https://api2.mubu.com/v3/document_image/25165450_a3712b25-4198-4b17-ac01-5f38bb9dbd6f.png)
>![img](https://api2.mubu.com/v3/document_image/25165450_2072e5d6-857c-4b3d-e46b-e7c679261811.png)

------

### 千万记得要解除委托的绑定，否则会越来越多！！！


___________________________________________________________________________________________

[返回最上面](#Go主菜单)

___________________________________________________________________________________________